@model IEnumerable<EX5.Models.Business>

<p>
    @Html.ActionLink("Create New", "Create")
</p>

<table id="customers">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.BusinessName)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Category.CategoryName)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Owner)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.PhoneNumber)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.StreetAddress)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.City)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Website)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Description)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.AVGrank)
        </th>
            <th>
                Edit
            </th>

            <th>
                Delete
            </th>
    </tr>

    @foreach (var item in Model)
            {
        <tr>
            <td>
                @Html.ActionLink(item.BusinessName, "Details", new { id = item.BusinessID })
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Category.CategoryName)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Owner)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.PhoneNumber)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.StreetAddress)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.City)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Website)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Description)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.AVGrank)
                <link rel="stylesheet" type="text/css" href="~/Content/myStylesheet.css">
                <div class="star-ratings-css">
                    @{
                        var percentStr = "width:" + (@item.AVGrank / 5 * 100) + "%";
                    }
                    <div class="star-ratings-css-top" style=@percentStr><span>★</span><span>★</span><span>★</span><span>★</span><span>★</span></div>
                    <div class="star-ratings-css-bottom"><span>★</span><span>★</span><span>★</span><span>★</span><span>★</span></div>
                </div>
            </td>
                <td>

                    @Html.ActionLink("Edit", "Edit", new { id = item.BusinessID })
                </td>
                <td>
                    @Html.ActionLink("Delete", "Delete", new { id = item.BusinessID })
                </td>
        </tr>
                        }

</table>
